name: 'Run UI tests'

on:
  push:
    branches:
      - master
  pull_request:

jobs:
  coverage:

    runs-on: [ubuntu-latest]
    name: UI tests on Ubuntu

    steps:
      - uses: actions/checkout@v1
      - name: Set up JDK 11
        uses: actions/setup-java@v1
        with:
          java-version: 11
      - name: Build dependencies
        run: mvn -V -ntp verify -Pskip --file plugin/pom.xml '-Dgpg.skip'
      - name: Run UI tests
        env:
          BROWSER: firefox-container
        run: mvn -V -ntp test --file ui-tests/pom.xml -Pall-ui-tests '-Dgpg.skip'

